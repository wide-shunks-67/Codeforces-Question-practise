#include<iostream>#include<vector>#include<algorithm>#define ll long longusing namespace std;int main(){    ios_base::sync_with_stdio(false);    cin.tie(NULL);    int t;    cin>>t;    while(t--){        ll n,k,q;        cin>>n>>k>>q;        vector<ll> a(n);        for(int i=0;i<n;i++){            ll x;            cin>>x;            if(x<= q){                a[i]=1;            }            else{                a[i]=0;            }        }        ll consecutive=0;                ll result=0;        for(int i=0;i<n;i++){            if(a[i]==1){                consecutive++;            }            else{                if(consecutive>=k){                    result+= ((consecutive - k + 1) * (consecutive - k + 2)) / 2;                }                consecutive=0;            }        }        if(consecutive>=k){            result+= ((consecutive - k + 1) * (consecutive - k + 2) )/ 2;        }        cout<<result<<"\n";    }}